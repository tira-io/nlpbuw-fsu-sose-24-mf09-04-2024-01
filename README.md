# Submissions of mf09-04-2024-01

[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/webis-de/natural-language-processing-exercises)

This repository contains baseline submissions (document-processing, query-processing, re-ranking, and retrieval) together with a Github action and a development container configuration as starting point for submissions for the [](). 

We recommend that you work either in Github Codespaces or using [dev containers with Docker](https://code.visualstudio.com/docs/devcontainers/containers). Github Codespaces are an easy option to start in a few minutes (free tier of 130 compute hours per month), whereas dev container with Docker might be interesting if you want to put a bit more focus on technical/deployment details.


## Developing in Github Codespaces

- Open this repository in Github Codespaces (i.e., click on "Code" -> "Codespaces" -> "Create ...").
- Please do not forget to commit often


## Developing in Dev Containers

A dev container (please find a suitable installation instruction [here](https://code.visualstudio.com/docs/devcontainers/containers)) allows you to directly work in the prepared Docker container so that you do not have to install the dependencies (which can sometimes be a bit tricky).

To develop with dev containers, please:

- Install [VS Code](https://code.visualstudio.com/download) and [Docker](https://docs.docker.com/engine/install/) on your machine
- Clone this repository: `git clone ...`
- Open the directory `jupyter-notebook-submissions` with VS Code (it should ask you to open the repository in a dev container)

If you do not want to use VS Code, you can start and develop in a jupyter notebook via (please execute the command within the `jupyter-notebook-submissions` directory):

```
docker run --rm  -it -p 8888:8888 --entrypoint jupyter -w /workspace -v ${PWD}:/workspace fschlatt/natural-language-processing-exercises notebook --allow-root --ip 0.0.0.0
```

## Submitting Your Software

Run the github action to submit your software.

### Persisting Models/Data

Your submission will not have access to the training or validation data when running on Tira. Therefore, anything training you need to do should be done locally and the model persisted in the container. See the `authorship-verification-bayes` directory for an simple example of training a model using scikit learn, saving it to disk, and adding it to the submitted Docker image.

## Running your Software

After sucessfully submitting your software, it will be avaiable on TIRA. Select `Submit` and then the `Docker` tab. Your software submission will be listed under the `Choose sofware ...` dropdown menu (the names are generated by docker, check the output of the github action to see which name corresponds to which submission). Select your submission and then select the resources (small will usually suffice) and dataset you want to run it on. Click `Run` to run your software on the dataset.

You can check the progress of your submission by unfolding the `Running Processes` tab at the top.

## Additional Hints

Some additional advanced hints for developing your submission:

### Additional dependencies

If you require additional depenedencies, you can add them to the `Dockerfile` in the `dev-container` directory. Next, build the container and push it to Docker Hub. Then change the image in the `.devcontainer.json` file to point to your image.

### Running/Testing your submission locally

You can run it directly via (please install `tira` via `pip3 install tira`, Docker, and Python >= 3.7 on your machine) where you replace `{dataset-name}` with the name of the dataset and `{image-name}` with the name of the image you want to run:

```bash
tira-run \
    --input-dataset {dataset-name} \
    --image {image-name}
```
